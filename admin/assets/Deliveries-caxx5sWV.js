import{u as f,a as L,b as C,r as c,c as y,j as e,L as S,S as P}from"./index-GDIqWgRK.js";import{R}from"./react-paginate-DdB8dUHD.js";import{D as T}from"./Drawer-BQdu0KjK.js";/* empty css               */import{d as v}from"./gallery_default-Dw_oZD7n.js";import"./package-BBZZd5X7.js";const F=()=>{f();const h=L(),o=C(),x=new URLSearchParams(o.search),g=x.get("orderId"),j=x.get("type"),[p,N]=c.useState(10),[d,i]=c.useState(1),{error:u,isLoading:m,data:r,pageCount:t}=y(s=>s.deliveries),D=()=>{h(P({orderId:g||"",type:j||"returned",currentPage:d,limit:p}))};return c.useEffect(()=>{D()},[h,d,p]),c.useEffect(()=>{i(1),(r==null?void 0:r.length)===0&&i(1)},[o.pathname]),e.jsx(T,{children:e.jsxs("div",{className:"listMain",children:[e.jsx("h2",{children:j=="all"?"All Deliveries":"Returned Deliveries"}),e.jsx("div",{className:"searchTab",children:e.jsxs("div",{children:[e.jsx("span",{children:"Limits "}),e.jsxs("select",{onChange:s=>{i(1),N(Number(s.target.value))},children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{children:" Entries"})]})}),m&&e.jsx(S,{}),r&&e.jsx("div",{className:"deliveryTableWrapper",children:e.jsxs("table",{className:"questionsTable",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sr.No."}),e.jsx("th",{children:"Product"}),e.jsx("th",{children:"Dispatch Count"}),e.jsx("th",{children:"Toll Details"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Delivery Status"}),e.jsx("th",{children:"Delivery Status Logs"})]})}),e.jsx("tbody",{children:(r==null?void 0:r.length)===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,style:{textAlign:"center"},children:"No Records Found..."})}):r==null?void 0:r.map((s,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsx("td",{children:s==null?void 0:s.orderDetails.map((a,n)=>e.jsxs("div",{children:[e.jsx("strong",{children:a.productName}),e.jsx("p",{children:a._id})]},n))}),e.jsx("td",{children:s==null?void 0:s.orderDetails.map((a,n)=>e.jsx("div",{children:e.jsx("p",{children:a.dispatchCount})},n))}),e.jsx("td",{children:(s==null?void 0:s.fastagTolls)!=""?s==null?void 0:s.fastagTolls.map((a,n)=>e.jsxs("div",{className:"toll-details",children:[e.jsx("img",{src:(a==null?void 0:a.image)||v,onError:b=>b.target.src=v,alt:a==null?void 0:a.tollName}),e.jsx("p",{children:a.tollName}),e.jsxs("p",{children:["₹ ",a.amount]})]},n)):"N/a"}),e.jsxs("td",{children:["₹ ",s==null?void 0:s.amount]}),e.jsx("td",{children:s==null?void 0:s.deliveryStatus}),e.jsx("td",{children:e.jsx("div",{className:"timeline",children:s==null?void 0:s.deliveryStatusLogs.map((a,n)=>e.jsxs("div",{className:"timeline-item",children:[e.jsx("div",{className:"timeline-dot",children:"✓"}),e.jsx("span",{className:"timeline-text",children:a})]},n))})})]},l))})]})}),u&&e.jsx("div",{className:"errDiv",children:e.jsx("p",{children:u})}),e.jsx(R,{breakLabel:"...",forcePage:d-1,activePage:3,className:`pagination margin-16 ${t<=1?"disabled":""}`,nextLabel:"Next",activeClassName:"active",nextClassName:"active",previousLinkClassName:"unactive",breakClassName:"unactive",onPageChange:t>1?s=>{const l=s.selected+1;i(l)}:null,pageRangeDisplayed:3,pageCount:t||0,previousLabel:"Previous",disabledClassName:"disabled"})]})})};export{F as default};
