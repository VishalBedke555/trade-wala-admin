import{u as h,a as x,r as i,c as j,j as e,L as g,R as b}from"./index-GDIqWgRK.js";import{D as v}from"./Drawer-BQdu0KjK.js";import"./package-BBZZd5X7.js";const N=()=>{const n=h(),l=x(),[a,c]=i.useState({expiryDate:"",code:"",discount:"",orderValue:""}),{error:C,isLoading:s,status:u}=j(r=>r.coupons),t=r=>{const{name:o,value:p}=r.target;c(m=>({...m,[o]:p}))},d=r=>{r.preventDefault();const o={expiryDate:new Date(a.expiryDate).toISOString(),code:a.code,discount:Number(a.discount),orderValue:a.orderValue};l(b(o))};return i.useEffect(()=>{u===1&&n(-1)},[u,n]),e.jsx(v,{children:e.jsxs("div",{className:"listMain",children:[e.jsxs("div",{className:"coupon-container",children:[e.jsx("h2",{children:"Create Coupon"}),e.jsxs("form",{onSubmit:d,className:"coupon-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expiry Date"}),e.jsx("input",{type:"date",name:"expiryDate",value:a.expiryDate,onChange:t,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Coupon Code"}),e.jsx("input",{type:"text",name:"code",value:a.code,onChange:t,placeholder:"Enter Code",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Discount (₹)"}),e.jsx("input",{type:"number",name:"discount",value:a.discount,onChange:t,placeholder:"Enter Discount",required:!0,onWheel:r=>r.target.blur()})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum order value (₹)"}),e.jsx("input",{type:"number",name:"orderValue",value:a.orderValue,onChange:t,placeholder:"Enter minimum order value",required:!0,onWheel:r=>r.target.blur()})]}),e.jsx("button",{type:"submit",className:"submit-btn",disabled:s,children:s?"Creating...":"Create Coupon"})]})]}),s&&e.jsx(g,{})]})})};export{N as default};
