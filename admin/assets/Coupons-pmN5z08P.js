import{u as g,a as v,b as C,r as o,c as N,P as b,j as e,L as f,Q as L}from"./index-GDIqWgRK.js";import{R as y}from"./react-paginate-DdB8dUHD.js";import{D}from"./Drawer-BQdu0KjK.js";/* empty css               */import"./package-BBZZd5X7.js";const E=()=>{const h=g(),c=v(),u=C(),[i,x]=o.useState(10),[l,r]=o.useState(1),{error:d,isLoading:j,data:n,pageCount:t}=N(s=>s.coupons);o.useEffect(()=>{c(b({currentPage:l,limit:i}))},[c,l,i]),o.useEffect(()=>{r(1),(n==null?void 0:n.length)===0&&r(1)},[u.pathname]);const p=s=>{window.confirm("Are you sure, you want to delete coupon?")&&c(L({couponId:s}))};return e.jsxs(D,{children:[e.jsxs("div",{className:"listMain",children:[e.jsx("h2",{children:"Coupons"}),e.jsxs("div",{className:"searchTab",children:[e.jsxs("div",{children:[e.jsx("span",{children:"Limits "}),e.jsxs("select",{onChange:s=>{r(1),x(Number(s.target.value))},children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{children:" Entries"})]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>h("/createCoupon"),children:"Create Coupon"})})]}),j&&e.jsx(f,{}),n&&e.jsx("div",{style:{overflowX:"scroll"},children:e.jsxs("table",{className:"questionsTable",frame:"void",rules:"none",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sr.No."}),e.jsx("th",{children:"Code"}),e.jsx("th",{children:"Created By"}),e.jsx("th",{children:"Discount"}),e.jsx("th",{children:"Minimum Order Value"}),e.jsx("th",{children:"Expiry Date"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:(n==null?void 0:n.length)===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,style:{textAlign:"center"},children:"No Records Found..."})}):n==null?void 0:n.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:a+1}),e.jsx("td",{children:(s==null?void 0:s.code)||"N/A"}),e.jsx("td",{children:(s==null?void 0:s.createdBy)||"N/A"}),e.jsxs("td",{children:["₹ ",(s==null?void 0:s.discount)||0]}),e.jsxs("td",{children:["₹",(s==null?void 0:s.orderValue)||0]}),e.jsx("td",{children:new Date(s==null?void 0:s.expiryDate).toLocaleString()||"N/A"}),e.jsx("td",{children:new Date(s==null?void 0:s.createdAt).toLocaleString()||"N/A"}),e.jsx("td",{children:e.jsx("button",{className:"actionButton",style:{backgroundColor:"var(--danger)"},onClick:()=>p(s==null?void 0:s._id),children:e.jsx("span",{className:"bi bi-trash"})})})]},a))})]})}),d&&e.jsx("div",{className:"errDiv",children:e.jsx("p",{children:d})})]}),e.jsx(y,{breakLabel:"...",forcePage:l-1,activePage:3,className:`pagination margin-16 ${t<=1?"disabled":""}`,nextLabel:"Next",activeClassName:"active",nextClassName:"active",previousLinkClassName:"unactive",breakClassName:"unactive",onPageChange:t>1?s=>{const a=s.selected+1;r(a)}:null,pageRangeDisplayed:3,pageCount:t||0,previousLabel:"Previous",disabledClassName:"disabled"})]})};export{E as default};
