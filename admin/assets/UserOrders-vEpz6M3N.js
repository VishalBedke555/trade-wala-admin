import{u as b,a as O,b as y,r as a,c as L,j as e,L as R,q as D}from"./index-GDIqWgRK.js";/* empty css               */import{R as P}from"./react-paginate-DdB8dUHD.js";import{D as S}from"./Drawer-BQdu0KjK.js";import{O as k}from"./OrdersComp-CG7Qv-5c.js";import"./package-BBZZd5X7.js";const M=()=>{b();const x=O(),i=y(),c=a.useRef(""),l=new URLSearchParams(i.search).get("userId"),[o,m]=a.useState("onrequest"),[d,g]=a.useState(10),[r,n]=a.useState(1),[t,p]=a.useState(""),h=()=>{const s=t?new Date(t).toISOString():"";x(D({currentPage:r,limit:d,type:o,dealerId:"",search:c.current.value,date:s,userId:l}))};a.useEffect(()=>{h()},[r,d,o,t,l]),a.useEffect(()=>{n(1)},[i.pathname]);const{error:u,isLoading:j,data:v,pageCount:C}=L(s=>s.orders),f=s=>{m(s.target.value)};return e.jsxs(S,{children:[e.jsxs("div",{className:"listMain",children:[e.jsx("h2",{children:"User Orders"}),e.jsxs("div",{className:"searchTab",children:[e.jsxs("div",{children:[e.jsx("span",{children:"Limits "}),e.jsxs("select",{onChange:s=>{n(1),g(Number(s.target.value))},children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{children:" Entries"})]}),e.jsx("div",{style:{display:"flex",gap:"4px"},children:e.jsxs("div",{children:[e.jsx("span",{style:{paddingRight:"6px"},children:"Date:"}),e.jsx("input",{type:"datetime-local",value:t,onChange:s=>p(s.target.value),className:"datePicker"}),t&&e.jsx("button",{onClick:()=>p(""),className:"clear-btn",children:"Clear"})]})})]}),e.jsxs("div",{className:"searchTab",children:[e.jsxs("div",{children:[e.jsx("span",{style:{paddingRight:"6px"},children:"Type "}),e.jsxs("select",{onChange:f,style:{padding:"6px",marginTop:"15px"},children:[e.jsx("option",{value:"onrequest",children:"Request Order"}),e.jsx("option",{value:"ongoing",children:"Ongoing Order"}),e.jsx("option",{value:"rejected",children:"Rejected Order"}),e.jsx("option",{value:"completed",children:"Completed Order"})]})]}),e.jsxs("div",{className:"search-tab-flex",children:[e.jsx("input",{type:"text",placeholder:"Search",ref:c}),e.jsx("button",{onClick:()=>h(),className:"bi bi-search"})]})]}),j&&e.jsx(R,{}),e.jsx(k,{data:v}),u&&e.jsx("div",{className:"errDiv",children:e.jsx("p",{children:u})})]}),e.jsx(P,{breakLabel:"...",forcePage:r-1,activePage:3,className:"pagination margin-16",nextLabel:"Next",activeClassName:"active",nextClassName:"active",previousLinkClassName:"unactive",breakClassName:"unactive",onPageChange:s=>{const N=s.selected+1;n(N)},pageRangeDisplayed:3,pageCount:C||0,previousLabel:"Previous"})]})};export{M as default};
