import{u as A,a as L,b as D,r,c as w,j as e,L as P,d as S,f as T,e as U,g as E}from"./index-GDIqWgRK.js";import{D as R}from"./Drawer-BQdu0KjK.js";import{R as B}from"./react-paginate-DdB8dUHD.js";/* empty css               */import"./package-BBZZd5X7.js";const F=()=>{const f=A(),c=L(),g=D(),[l,v]=r.useState(10),[d,n]=r.useState(1),x=r.useRef(""),o=()=>{c(T({currentPage:d,limit:l,search:x.current.value}))};r.useEffect(()=>{o()},[c,d,l]),r.useEffect(()=>{n(1)},[g.pathname]);const{error:u,isLoading:C,data:h,pageCount:i}=w(s=>s.users),y=(s,a)=>{window.confirm(`Are you sure you want to ${a?"unblock":"block"} this user?`)&&c(U({userId:s}))},k=s=>{window.confirm("Are you sure you want to delete user")&&c(E({userId:s}))};return e.jsxs(R,{children:[e.jsxs("div",{className:"listMain",children:[e.jsx("h2",{children:"Users"}),e.jsxs("div",{className:"searchTab",children:[e.jsxs("div",{children:[e.jsx("span",{children:"Limits "}),e.jsx("select",{value:l,onChange:s=>{n(1),v(Number(s.target.value))},children:[10,25,50,100].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("span",{children:" Entries"})]}),e.jsxs("div",{className:"search-tab-flex",children:[e.jsx("input",{type:"text",ref:x,placeholder:"Search",onKeyDown:s=>{s.key==="Enter"&&(o(),n(1))}}),e.jsx("button",{onClick:()=>{o(),n(1)},className:"bi bi-search"})]})]}),C&&e.jsx(P,{}),h&&e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"questionsTable",frame:"void",rules:"none",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sr.No."}),e.jsx("th",{children:"User Details"}),e.jsx("th",{children:"Device Id"}),e.jsx("th",{children:"Version"}),e.jsx("th",{children:"Source"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,style:{textAlign:"center"},children:"No Records Found..."})}):h.map((s,a)=>{var t,j,p,b,N;return e.jsxs("tr",{style:{opacity:s!=null&&s.blocked?.5:1},children:[e.jsx("td",{children:a+1}),e.jsxs("td",{children:[e.jsxs("p",{children:[e.jsx("b",{children:"Name:"})," ",e.jsx(S,{to:`/userDetails?userId=${s._id}`,children:(s==null?void 0:s.name)||"N/A"})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Email:"})," ",(s==null?void 0:s.email)||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"Mobile:"})," ",(s==null?void 0:s.mobile)||"N/A"]})]}),e.jsx("td",{children:(s==null?void 0:s.deviceId)||"N/A"}),e.jsx("td",{children:(s==null?void 0:s.version)||"N/A"}),e.jsx("td",{children:(s==null?void 0:s.source)||"N/A"}),e.jsx("td",{children:e.jsxs("details",{children:[e.jsx("summary",{children:"Location"}),e.jsxs("p",{children:[e.jsx("b",{children:"Address Type:"})," ",((t=s==null?void 0:s.defaultLocation)==null?void 0:t.addressType)||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"Address:"})," ",((j=s==null?void 0:s.defaultLocation)==null?void 0:j.address1)||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"City:"})," ",((p=s==null?void 0:s.defaultLocation)==null?void 0:p.city)||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"State:"})," ",((b=s==null?void 0:s.defaultLocation)==null?void 0:b.state)||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"Pin Code:"})," ",((N=s==null?void 0:s.defaultLocation)==null?void 0:N.pinCode)||"N/A"]})]})}),e.jsx("td",{children:new Date(s==null?void 0:s.createdAt).toLocaleString()||"N/A"}),e.jsxs("td",{children:[e.jsx("button",{className:"actionButton",onClick:()=>f(`/userOrders?userId=${s==null?void 0:s._id}`),children:e.jsx("span",{className:"bi bi-eye"})}),e.jsx("button",{className:"actionButton",style:{backgroundColor:"var(--danger)",marginLeft:"2px"},onClick:()=>y(s==null?void 0:s._id,s==null?void 0:s.blocked),children:e.jsx("span",{className:"bi bi-ban"})}),e.jsx("button",{className:"actionButton",style:{backgroundColor:"var(--danger)"},onClick:()=>k(s==null?void 0:s._id),children:e.jsx("span",{className:"bi bi-trash"})})]})]},a)})})]})}),u&&e.jsx("div",{className:"errDiv",children:e.jsx("p",{children:u})})]}),e.jsx(B,{breakLabel:"...",forcePage:d-1,activePage:3,className:`pagination margin-16 ${i<=1?"disabled":""}`,nextLabel:"Next",activeClassName:"active",nextClassName:"active",previousLinkClassName:"unactive",breakClassName:"unactive",onPageChange:i>1?s=>{const a=s.selected+1;n(a)}:null,pageRangeDisplayed:3,pageCount:i||0,previousLabel:"Previous",disabledClassName:"disabled"})]})};export{F as default};
